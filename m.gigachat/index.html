<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gigaChat</title>
  <link id="themeStylesheet" rel="stylesheet" href="new.css">
  <link rel="icon" type="image/x-icon" href="thumbnail.png">
  <script src="https://cdn.jsdelivr.net/npm/appwrite@16.0.2"></script>
  <script type="text/javascript" src="website2.js"></script>
  <script src="client.js"></script>
  <link rel="manifest" href="manifest.json">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <!--//usually width= 420px
  //usually height= 800px-->
</head>

<body>
  <div id="dynamicIsland"></div>
  <nav id="nav">
    <section id="headsection">
      <h1 onclick="document.getElementById('popupMenu').style.display = 'grid'" id="gigaChat">
        gigaChat</h1>
      <button id="addNewBtn" onclick="document.getElementById('addMenu').style.display = 'flex'"><img src="close.svg"
          alt="new"></button>
    </section>
    <section id="searchSection">
      <input type="text" class="text-input" id="search-box" placeholder="Search">
    </section>
  </nav>

  <div id="popupMenu" class="hidden">
    <button id="changeTheme" class="primary" onclick="
    (() => {
      const id = 'blue-theme';
      const existing = document.getElementById(id);
      if (existing) {
        existing.remove();
      } else {
        const link = document.createElement('link');
        link.id = id;
        link.rel = 'stylesheet';
        link.href = 'blue.css';
        document.head.appendChild(link);
      }
    })();
  ">Switch Theme</button>
    <a href="espanol.html"><button id="changeLanguage" class="primary">Espa√±ol</button></a>
    <a href="deutsch.html"><button id="changeLanguage" class="primary">Deutsch</button></a>
    <button>Set as default (English)</button>
    <button onclick="document.getElementById('howTo').style.display = 'block'">How To Install the App</button>
    <button id="logout" class="secondary" onclick="logout()" style="color: red;">Logout</button>
  </div>

  <main id="main">
    <div class="one" id="one">
      <div id="loadDefault" class="chat-box" style="color: var(--light); font-weight: normal;">load default ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
      <div class="chat-box" style="color: var(--light); font-weight: normal;">loading ....</div>
    </div>

    <div class="text-input-con" id="text-input-con">
      <input type="text" class="text-input" id="text_input" placeholder="Message">
      <button type="button" id="send-msg" onclick="send_msg()">
        <img src="send.png" alt="send" id="sendIcon"></button>
    </div>
    </div>
    <div class="three" id="three">
      <!--/bottom-->
      <div class="bottomBlur"></div>

      <div class="chat-con" id="chat-con">
        <div id="backToList"><img src="back.png" alt="back"></div>
        <div id="chatName"
          onclick="document.getElementById('infoMenu').classList.toggle('grid'); document.getElementById('chatName').classList.toggle('infoMenuMorph');">
          <div id="contact">"Neue Gruppe"</div>
          <div id="contactType">Group chat</div>
        </div>

        <!--message-->
        <div class="msg-rx">
          <div class="msg-content-rx">Hi!</div>
        </div>
        <!--message-->
        <div class="msg-tx">
          <div class="msg-content-tx">HI HOW ARE YOU ESTAS BIEN?</div>
        </div>

        <!--message-->
        <div class="msg-tx">
          <div class="msg-content-tx">HI HOW ARE YOU ESTAS BIEN? Lorem, ipsum dolor sit elit. Assumenda consectetur
            deleniti sint animi aspernatur eaque similique blanditiis voluptas, eius nihil repellendus!</div>
        </div>
        <!--message-->
        <div class="msg-rx">
          <div class="msg-content-rx">Hi!</div>
        </div>
        <!--message-->
        <div class="msg-tx">
          <div class="msg-content-tx">HI HOW ARE YOU ESTAS BIEN?</div>
        </div>

        <!--message-->
        <div class="msg-tx">
          <div class="msg-content-tx animate">HI HOW ARE YOU ESTAS BIEN? Lorem, ipsum dolor sit elit. Assumenda
            consectetur deleniti sint animi aspernatur eaque similique blanditiis voluptas, eius nihil repellendus!
          </div>
        </div>


        <!--message-->
        <div class="msg-rx">
          <div class="msg-content-rx" style="max-width: 100%; line-height: 1.5rem;">
            Oui
            /fire
          </div>
        </div>

        <!--message-->
        <div class="msg-rx">
          <div class="msg-content-rx" style="max-width: 100%; line-height: 1.5rem;">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores repudiandae velit quod modi assumenda nam facilis voluptates, ducimus vel ad odio fugiat amet tempora iste minima? Fuga accusamus officiis tempore!
          </div>
        </div>

        <!--message-->
        <div class="msg-rx">
          <div class="msg-content-rx">Hasta Luego!</div>
        </div>

        <!--message-->
        <div class="msg-rx">
          <div class="msg-content-rx">HHI HOW ARE YOU ESTAS BIEN? Lorem, ipsum dolor sit elit. Assumenda consectetur
            deleniti sint animi aspernatur eaque similique blanditiis voluptas, eius nihil repellendusgo!</div>
        </div>
<!--message-->
<div class="msg-rx">
  <div class="msg-content-rx">HHI HOW ARE YOU ESTAS BIEN? Lorem, ipsum dolor sit elit. Assumenda consectetur
    deleniti sint animi aspernatur eaque similique blanditiis voluptas, eius nihil repellendusgo!</div>
</div>

<!--message-->
<div class="msg-rx">
  <div class="msg-content-rx">HHI HOW ARE YOU ESTAS BIEN? Lorem, ipsum dolor sit elit. Assumenda consectetur
    deleniti sint animi aspernatur eaque similique blanditiis voluptas, eius nihil repellendusgo!</div>
</div>

<!--message-->
<div class="msg-rx">
  <div class="msg-content-rx">HHI HOW ARE YOU ESTAS BIEN? Lorem, ipsum dolor sit elit. Assumenda consectetur
    deleniti sint animi aspernatur eaque similique blanditiis voluptas, eius nihil repellendusgo!</div>
</div>

        <!--message-->
        <div class="msg-tx">
          <div class="msg-content-tx">?</div>
        </div>




        <!--message-->
        <div class="msg-rx">
          <div class="msg-content-rx">Hasta Luego!</div>
        </div>

        <!--message-->
        <div class="msg-tx">
          <div class="msg-content-tx">HI HOW ARE YOU ESTAS BIEN? Lorem, ipsum dolor sit elit. Assumenda consectetur
            deleniti sint animi aspernatur eaque similique blanditiis voluptas, eius nihil repellendus!</div>
        </div>



        <!--message
<div class="msg-rx">
  <div class="voice-content-rx">
    <div class="voice-content-name">Name:</div>
    <div class="voice-content-controls">
      <img src="play.png" id="playVoiceMsg" onclick="playClicked()">
      <img src="pause.png" id="pauseVoiceMsg" onclick="pauseClicked()">
    </div>
    <div id="voice-content-waves">
            <div class="voiceBars" id="vB1"></div>
            <div class="voiceBars" id="vB2"></div>
            <div class="voiceBars" id="vB3"></div>
            <div class="voiceBars" id="vB4"></div>
            <div class="voiceBars" id="vB5"></div>
            <div class="voiceBars" id="vB6"></div>
            <div class="voiceBars" id="vB7"></div>
            <div class="voiceBars" id="vB8"></div>
            <div class="voiceBars" id="vB9"></div>
            <div class="voiceBars" id="vB10"></div>
            <div class="voiceBars" id="vB11"></div>
            <div class="voiceBars" id="vB12"></div>
            <div class="voiceBars" id="vB13"></div>
            <div class="voiceBars" id="vB14"></div>
            <div class="voiceBars" id="vB15"></div>
            <div class="voiceBars" id="vB16"></div>
    </div>
  </div>
</div>

message
<div class="msg-rx">
  <div class="msg-content-rx" style="line-height: 1.5rem;">Spoiler: Voice Messages, Media Upload and Notifications are coming soon to gigaChat!</div>
</div>
message
<div class="msg-tx">-msg-container
  <div class="media-content-tx"><message itself
    <div class="media-content-name">Name:</div>Sender
    <img src="910205.png" id="media-img" onclick="enterFocus()" alt="Error displaying media. Contact gigaChat developers.">#media-img [main img]

    <div class="media-content-description">This is an image.</div>
  </div>
</div>

      </div> chat con-->
      </div> <!--three-->


      <div id="mediaAreaFocus">
        <!--#media-img-focus for fullscreen viewing. display none is default-->
        <!-- MEDIA AREA FOR FOCUS -->

        <img id="closeGallery" src="close.svg" alt="close" onclick="closeFocus()">


        <img src="910205.png" id="media-img-focus-bg" alt="Error displaying media. Contact gigaChat developers.">
        <img src="910205.png" id="media-img-focus" alt="Error displaying media. Contact gigaChat developers.">
        <!--new img--><!--this is an example.

[ERROR: THE CODE OPENS THE OTHER IMAGE (MAYBE BACUASE IT IS THE FIRST???)]


<img src="microphone.png" id="media-img-focus-bg" alt="nigger">
<img src="microphone.png" id="media-img-focus" alt="nogger shock">
 -->

      </div>

  </main>

  <aside>
    <div id="addMenu">

      <div id="chatNameManage">
        <div id="contactManage">
          <div id="previewChatName"></div>
        </div>
        <div id="contactTypeManage">unset</div>
      </div>

      <h1>Manage Chats</h1>

      <section id="addGroup">

        <section id="groupNameSection">
          <label for="groupName">Name</label>
          <input id="groupName" oninput="document.getElementById('previewChatName').textContent = this.value;"
            autofocus>

        </section>

        <section id="userListSection">
          <label for="userList">Members</label>
          <input id="userList" oninput="
      const c = (this.value.match(/:/g) || []).length;
      document.getElementById('contactTypeManage').textContent =
        c === 0 ? 'Invalid' : (c === 1 ? 'Contact' : 'Group chat');
    " placeholder="user:user:user">
        </section>
        <section>
          <div id="importantNoteAddGroup">Include yourself if needed.</div>
        </section>

        <section id="cancelCreate">
          <button id="cancelBtn" onclick="document.getElementById('addMenu').style.display = 'none';"
            class="secondary">Cancel</button>
          <button id="createBtn" class="primary">Create</button>
        </section>

      </section>
    </div>

    <div id="howTo">
      <h1>How To Install the gigaChat App</h1>
      <h2>On iOS</h2>
      <h3>Only works in Safari.</h3>
      <p>Go to the share menu, scroll down, then click "Add to Home Screen". This will place gigaDrive on your
        Homescreen and install it.</p>
      <h2>On Android</h2>
      <h3>Only works in Google Chrome.</h3>
      <p>Go to the three dots, look for "Add to Homescreen".
        It will ask you whether to add gigaChat to the Homescreen or to install it as an PWA.<br>
        Confirm installation.<br>You will have to wait a bit to have the necessary cache files downloaded.<br>
        Once finished, you can choose to add it to the Homescreen manually, if not happened automatically.</p>
      <button id="cancelBtn" onclick="document.getElementById('howTo').style.display = 'none';"
        class="secondary">Cancel</button>
    </div>





  </aside>

  <div id="infoMenu">
    <div></div>
    <h3>Info</h3>
    <div></div>
    <div>Joni</div>
    <div>David</div>
    <div>Felix</div>
    <div>Michi</div>
    <div>Flo</div>
  </div>

  <script>
    document.getElementById('backToList').addEventListener('click', function () {
      const one = document.getElementById('one');
      const three = document.getElementById('three');
      const txtInputCon = document.getElementById('text-input-con');

      three.style.display = 'none';
      one.style.display = 'grid';
      txtInputCon.style.display = 'none';
    });


    document.getElementById('loadDefault').addEventListener('click', function () {
      const one = document.getElementById('one');
      const three = document.getElementById('three');
      const txtInputCon = document.getElementById('text-input-con');

      three.style.display = 'grid';
      one.style.display = 'none';
      txtInputCon.style.display = 'flex';
    });
  </script>


  <script>


    function reloadPage() {
      window.location.reload();
    }



    searchBar.addEventListener('input', function () {
      const query = this.value.toLowerCase();
      const items = document.querySelectorAll('#one .chat-box');

      items.forEach(item => {
        const itemText = item.textContent.toLowerCase();
        if (itemText.includes(query)) {
          item.style.display = '';
        } else {
          item.style.display = 'none';
        }
      });
    });



    let playVoiceMsg = document.getElementById('playVoiceMsg');
    let pauseVoiceMsg = document.getElementById('pauseVoiceMsg');
    let soundWaves = document.getElementById('voice-content-waves');

    function playClicked() {
      playVoiceMsg.style.display = 'none';
      pauseVoiceMsg.style.display = 'flex';
      soundWaves.style.opacity = '1';
      //add btn function :: playMedia
    }

    function pauseClicked() {
      pauseVoiceMsg.style.display = 'none';
      playVoiceMsg.style.display = 'flex';
      soundWaves.style.opacity = '0';
      //add btn function :: pauseMedia
    }

    let galleryView = document.getElementById('mediaAreaFocus');
    let imgFocusBg = document.getElementById('media-img-focus-bg');
    let imgFocus = document.getElementById('media-img-focus');
    let closeGallery = document.getElementById('closeGallery');


    function enterFocus() {
      console.log('Entering Gallery view ....');
      galleryView.style.display = 'block';
      imgFocus.style.display = 'block';
      imgFocusBg.style.display = 'block';
      closeGallery.style.display = 'block';
    }

    function closeFocus() {
      console.log('Closing Gallery view ....');
      galleryView.style.display = 'none';
      imgFocus.style.display = 'none';
      imgFocusBg.style.display = 'none';
      closeGallery.style.display = 'none';
    }

  </script>
</body>

</html>
